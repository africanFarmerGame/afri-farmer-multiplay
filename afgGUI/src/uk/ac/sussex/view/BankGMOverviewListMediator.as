/**This file is part of the African Farmer Game - Multiplayer version.African Farmer Game - Multiplayer version is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.African Farmer Game - Multiplayer version is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.You should have received a copy of the GNU General Public License along with African Farmer Game - Multiplayer version.  If not, see <http://www.gnu.org/licenses/>.	**/package uk.ac.sussex.view {	import uk.ac.sussex.model.valueObjects.FinancialStatus;	import uk.ac.sussex.model.HearthsFinancialStatusProxy;	import uk.ac.sussex.view.components.BankGMOverviewDisplay;	import org.puremvc.as3.multicore.interfaces.INotification;	import uk.ac.sussex.general.ApplicationFacade;	import org.puremvc.as3.multicore.patterns.mediator.Mediator;	import org.puremvc.as3.multicore.interfaces.IMediator;	/**	 * @author em97	 */	public class BankGMOverviewListMediator extends Mediator implements IMediator {		private var fsListProxy:HearthsFinancialStatusProxy;		public static const NAME:String = "FinesGMOverviewListMediator";				public function BankGMOverviewListMediator() {			super(NAME, null);		}		override public function listNotificationInterests():Array {			return [HearthsFinancialStatusProxy.STATUSES_ADDED, 					HearthsFinancialStatusProxy.STATUS_UPDATED];		}		override public function handleNotification (note:INotification):void {			switch (note.getName()){				case HearthsFinancialStatusProxy.STATUSES_ADDED:				case HearthsFinancialStatusProxy.STATUS_UPDATED:					calculateAndDisplayTotals();					break;			}		}		public function showList(showList:Boolean):void{			financialOverview.clearSelection();			if(showList){				sendNotification(ViewAreaMediator.ADD_VIEW_COMPONENT, financialOverview);			} else {				sendNotification(ApplicationFacade.REMOVE_FROM_SCREEN, financialOverview);			}		}		private function calculateAndDisplayTotals():void {			financialOverview.clearFines();			var fsArray:Array = fsListProxy.getHouseholdStatuses();			for each (var fs:FinancialStatus in fsArray){									financialOverview.addStatement(fs.getHearthId(), fs.getHearthName(), fs.getCashValue(), fs.getAssetValue(), fs.getUnpaidBills());			}		}		protected function get financialOverview():BankGMOverviewDisplay {			return viewComponent as BankGMOverviewDisplay;		}		override public function onRegister():void {			viewComponent = new BankGMOverviewDisplay();			var submenu:SubMenuMediator = facade.retrieveMediator(SubMenuMediator.NAME) as SubMenuMediator;			financialOverview.x = submenu.getSubmenuWidth();			financialOverview.y = 10;			fsListProxy = facade.retrieveProxy(HearthsFinancialStatusProxy.NAME) as HearthsFinancialStatusProxy;			sendNotification(ViewAreaMediator.ADD_VIEW_COMPONENT, financialOverview);		}		override public function onRemove():void {			sendNotification(ApplicationFacade.REMOVE_FROM_SCREEN, financialOverview);		}	}}